<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Abhaya+Libre:wght@500&display=swap" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="/public/styles/details.css">
    <link rel="stylesheet" type="text/css" href="/public/styles/modal.css">
    <title>Dashboard</title>
</head>
<body>
    <header class="header">
        <div class="tittle">
            Purrfect Care
        </div>
        <nav class="option-bar">
            <ul>
                <div data-user-username>user1</div>
                <img src="/public/img/avatar.jpg" class="small-avatar" data-user-avatar>
                <li><a href="#"><i class="fa-solid fa-bell"></i></a></li>
                <li><a href="/logout"><i class="fa-solid fa-right-from-bracket"></i></a></li>
            </ul>
        </nav>
    </header>
    
    <main class="main-content">
        <div class="box_top">
            <div>Cat profile</div>
            <a href="/dashboard"><i class="fa-solid fa-arrow-left"></i>Back</a>
        </div>
        <div class="primary-content">
            <div class="left-container">
                <div class="cat-description">
                    <div class="cat-description-image">
                        <img src="" class="cat-image" data-cat-avatar alt="cat">
                    </div>
                    <div class="cat-description-text">
                        <div class="cat-name">Gilbert</div>
                        <div class="cat-settings">
                            <div class="cat-breed">Moggie cat</div>
                            <div class="cat-age">Age: 3 years</div>
                        </div>
                        <div class="cat-desc" data-cat-description></div>
                    </div>
                    <a href="#" data-modal-open="edit-cat"><i class="fa-solid fa-pen-to-square"></i>Edit</a>
                </div>
                <div class="image-box">
                    <div class="images">
                        <div class="images-box-description">
                            <div class="gallery">Gallery</div>
                            <div class="images-buttons">
                                <a href="#" data-gallery-toggle><i class="fa-solid fa-angle-down"></i></a>
                                <a href="#" data-gallery-add><i class="fa-solid fa-square-plus"></i></a>
                                <a href="#" data-gallery-manage><i class="fa-solid fa-pen"></i></a>
                            </div>
                        </div>

                        <form id="cat_gallery_upload_form" method="POST" action="/upload-cat-photo" enctype="multipart/form-data" hidden>
                            <input type="hidden" name="cat_id" value="" id="cat_id_gallery">
                            <input id="cat_photo" name="photo" type="file" accept="image/png,image/jpeg,image/webp">
                        </form>
                        <div class="all-images">
                        </div>
                    </div>
                </div>
            </div>
            <div class="right-container">
                <div class="box with activities">
                    <div class="section-tittle">
                        Planned activities
                        <div class="plusik">
                            <button class="pc-icon-btn" type="button" data-modal-open="add-activity" title="Add activity">
                                <i class="fa-solid fa-circle-plus"></i>
                            </button>
                        </div>
                    </div>
                    <div class="section-subtitle">You can manage planned activities</div>
                    <div class="cat-details-cards" data-cat-planned-activities></div>
                </div>
            </div>
        </div>
        <div class="box_bottom">
            <div class="view-activity-log">See activity logs</div>
        </div>
    </main>
    <footer class="footer">
        <nav class="menu-bar">
            <ul>
                <li><a href="/dashboard"><i class="fa-solid fa-house"></i>Home</a></li>
                <li><a href="/cats"><i class="fa-solid fa-cat"></i>Cats</a></li>
                <li><a href="/schedule"><i class="fa-solid fa-calendar"></i> Schedule</a></li>
                <li><a href="/logs"><i class="fa-solid fa-bars"></i>Logs</a></li>
                <li><a href="/settings"><i class="fa-solid fa-gear"></i>Account</a></li>
            </ul>
        </nav>
    </footer>

    <template id="tpl-cat-form">
        <form class="pc-form" data-modal-form enctype="multipart/form-data">
            <input type="hidden" name="cat_id" value="" />
            <div class="pc-field">
                <label>Name</label>
                <input class="pc-input" name="name" type="text" required />
            </div>
            <div class="pc-grid-2">
                <div class="pc-field">
                    <label>Age</label>
                    <input class="pc-input" name="age" type="number" min="0" />
                </div>
                <div class="pc-field">
                    <label>Breed</label>
                    <input class="pc-input" name="breed" type="text" />
                </div>
            </div>
            <div class="pc-field">
                <label>Description</label>
                <textarea class="pc-textarea" name="description" placeholder="Short note..."></textarea>
            </div>
            <div class="pc-field">
                <label>Photo</label>
                <input class="pc-input" name="avatar" type="file" accept="image/png,image/jpeg,image/webp" />
            </div>
        </form>
    </template>

    <template id="tpl-activity-form">
        <form class="pc-form" data-modal-form id="pc-modal-form">
            <input type="hidden" name="activity_id" value="" />
            <input type="hidden" name="cat_id" value="" />
            <div class="pc-field">
                <label>What (CO)</label>
                <input class="pc-input" name="title" type="text" placeholder="e.g. Feeding" required />
            </div>
            <div class="pc-field">
                <label>Description</label>
                <textarea class="pc-textarea" name="description" placeholder="Short description..."></textarea>
            </div>
            <div class="pc-grid-2">
                <div class="pc-field">
                    <label>Date</label>
                    <input class="pc-input" name="date" type="date" required />
                </div>
                <div class="pc-field">
                    <label>Time</label>
                    <input class="pc-input" name="time" type="time" required />
                </div>
            </div>
            <div class="pc-field">
                <label>Description (optional)</label>
                <textarea class="pc-textarea" name="done_description" placeholder="What has been done..."></textarea>
            </div>
        </form>
    </template>

    <template id="tpl-cat-gallery-item">
        <div class="singlepicture" data-photo-id="">
            <img class="cat-image" src="" alt="cat">
        </div>
    </template>

    <template id="tpl-cat-planned-activity-card">
        <div class="cat-detail-card">
            <div class="lewa">
                <h1 data-activity-title></h1>
                <p data-activity-desc></p>
            </div>
            <div class="srodek" data-activity-when></div>
            <div class="prawa">
                <button class="pc-icon-btn" type="button" title="Edit" data-modal-open="edit-activity">
                    <i class="fa-solid fa-ellipsis"></i>
                </button>
            </div>
        </div>
    </template>

    <template id="tpl-gallery-manage-modal">
        <div>
            <div class="hint">UI: remove/reorder works locally. Upload is separate.</div>
            <div data-gallery-list></div>
        </div>
    </template>

    <template id="tpl-gallery-manage-row">
        <div style="display:flex; gap:10px; align-items:center; justify-content:space-between; margin: 8px 0;" data-photo-id="" data-gallery-src="">
            <div style="display:flex; gap:10px; align-items:center;">
                <img data-gallery-thumb src="" style="width:44px; height:44px; object-fit:cover; border-radius:8px;" alt="photo" />
                <div data-gallery-label></div>
            </div>
            <div style="display:flex; gap:8px;">
                <button class="pc-btn pc-btn-secondary" type="button" data-gallery-up>Up</button>
                <button class="pc-btn pc-btn-secondary" type="button" data-gallery-down>Down</button>
                <button class="pc-btn pc-btn-secondary" type="button" data-gallery-remove>Remove</button>
            </div>
        </div>
    </template>

    <div class="pc-modal-overlay" data-modal-overlay hidden>
        <div class="pc-modal" role="dialog" aria-modal="true" aria-labelledby="pc-modal-title">
            <div class="pc-modal-header">
                <div class="pc-modal-title" id="pc-modal-title" data-modal-title>Modal</div>
                <button class="pc-modal-close" type="button" aria-label="Close" data-modal-close>&times;</button>
            </div>
            <div class="pc-modal-body" data-modal-body></div>
            <div class="pc-modal-footer">
                <button class="pc-btn pc-btn-secondary" type="button" data-modal-cancel>Cancel</button>
                <button class="pc-btn pc-btn-primary" type="button" data-modal-ok>OK</button>
            </div>
        </div>
    </div>
    <script defer src="/public/scripts/main.js"></script>
</body>
</html>
